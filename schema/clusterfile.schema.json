{
  "title": "Clusterfile",
  "description": "Configuration file for OpenShift cluster installation using the Agent-based Installer.",
  "type": "object",
  "$defs": {
    "ipv4": {
      "type": "string",
      "pattern": "^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"
    },
    "ipv6": {
      "type": "string",
      "pattern": "^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$|^([0-9a-fA-F]{1,4}:){1,7}:$|^([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}$|^([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}$|^([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}$|^([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}$|^([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}$|^[0-9a-fA-F]{1,4}:(:[0-9a-fA-F]{1,4}){1,6}$|^:(:[0-9a-fA-F]{1,4}){1,7}$|^::$"
    },
    "ipAddress": {
      "anyOf": [
        { "$ref": "#/$defs/ipv4" },
        { "$ref": "#/$defs/ipv6" }
      ]
    },
    "cidrv4": {
      "type": "string",
      "pattern": "^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/([0-9]|[1-2][0-9]|3[0-2])$"
    },
    "cidrv6": {
      "type": "string",
      "pattern": "^([0-9a-fA-F:]+)/([0-9]|[1-9][0-9]|1[0-2][0-8])$"
    },
    "cidr": {
      "anyOf": [
        { "$ref": "#/$defs/cidrv4" },
        { "$ref": "#/$defs/cidrv6" }
      ]
    },
    "macAddress": {
      "type": "string",
      "pattern": "^([0-9A-Fa-f]{2}[:-]){5}[0-9A-Fa-f]{2}$"
    },
    "fqdn": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$",
      "maxLength": 253
    },
    "dnsLabel": {
      "type": "string",
      "pattern": "^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$",
      "maxLength": 63
    },
    "semver": {
      "type": "string",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+(-[a-zA-Z0-9.]+)?(\\+[a-zA-Z0-9.]+)?$"
    },
    "proxyUrl": {
      "type": "string",
      "pattern": "^https?://[^\\s]+$"
    },
    "registryUrl": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9][a-zA-Z0-9.-]*(:[0-9]+)?(/[a-zA-Z0-9._-]+)*$"
    },
    "interfaceName": {
      "type": "string",
      "pattern": "^[a-zA-Z0-9][a-zA-Z0-9:._-]{0,63}$"
    },
    "devicePath": {
      "type": "string",
      "pattern": "^/dev/[a-zA-Z0-9/_-]+$"
    },
    "bondMode": {
      "type": "string",
      "enum": ["balance-rr", "active-backup", "balance-xor", "broadcast", "802.3ad", "balance-tlb", "balance-alb"]
    },
    "vlanId": {
      "type": "integer",
      "minimum": 1,
      "maximum": 4094
    }
  },
  "properties": {
    "account": {
      "title": "Account",
      "type": "object",
      "properties": {
        "pullSecret": {
          "title": "Pull Secret",
          "type": "string",
          "minLength": 1,
          "description": "Path to file containing Red Hat pull secret JSON for registry authentication.",
          "x-is-file": true,
          "x-doc-url": "https://docs.openshift.com/container-platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-obtaining-installer_installing-bare-metal"
        }
      },
      "required": ["pullSecret"],
      "additionalProperties": true,
      "description": "Red Hat account credentials for cluster registration."
    },
    "cluster": {
      "title": "Cluster",
      "type": "object",
      "properties": {
        "version": {
          "title": "OpenShift Version",
          "anyOf": [
            {
              "type": "string",
              "enum": ["4.14.0", "4.15.0", "4.16.0", "4.17.0", "4.18.0", "4.19.0", "4.20.0"],
              "description": "Select a supported OpenShift release."
            },
            {
              "$ref": "#/$defs/semver",
              "description": "Custom semantic version (x.y.z format)."
            }
          ],
          "description": "OpenShift release version to install.",
          "x-doc-url": "https://docs.openshift.com/container-platform/4.20/release_notes/ocp-4-20-release-notes.html"
        },
        "name": {
          "title": "Cluster Name",
          "$ref": "#/$defs/dnsLabel",
          "description": "DNS-compatible cluster name (lowercase, hyphens allowed, max 63 chars).",
          "x-doc-url": "https://docs.openshift.com/container-platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-configuration-parameters_installing-bare-metal"
        },
        "sshKeys": {
          "title": "SSH Keys",
          "type": "array",
          "items": {
            "type": "string",
            "minLength": 1,
            "description": "Path to SSH public key file.",
            "x-is-file": true
          },
          "minItems": 1,
          "description": "SSH public keys for node access (OpenSSH format).",
          "x-doc-url": "https://docs.openshift.com/container-platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#ssh-agent-using_installing-bare-metal"
        },
        "location": {
          "title": "Location",
          "type": "string",
          "maxLength": 128,
          "description": "Logical environment identifier for labels and metadata."
        },
        "manifests": {
          "title": "Manifests",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "title": "Manifest Name",
                "type": "string",
                "minLength": 1,
                "maxLength": 253,
                "pattern": "^[a-z0-9]([a-z0-9.-]*[a-z0-9])?$",
                "description": "Identifier for the manifest (DNS subdomain format)."
              },
              "file": {
                "title": "Manifest File",
                "type": "string",
                "minLength": 1,
                "description": "Path to manifest file.",
                "x-is-file": true
              }
            },
            "required": ["name", "file"],
            "additionalProperties": true
          },
          "description": "Extra Kubernetes manifests to apply during installation.",
          "x-doc-url": "https://docs.openshift.com/container-platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-user-infra-generate-k8s-manifest-ignition_installing-bare-metal"
        },
        "mirrors": {
          "title": "Image Mirrors",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "source": {
                "title": "Source Registry",
                "$ref": "#/$defs/registryUrl",
                "description": "Original registry to mirror (e.g., quay.io)."
              },
              "prefix": {
                "title": "Mirror Prefix",
                "type": "string",
                "description": "Base path prefix for mirrored images."
              },
              "mirrors": {
                "title": "Mirror URLs",
                "type": "array",
                "items": { "$ref": "#/$defs/registryUrl" },
                "minItems": 1,
                "description": "Alternative registry locations (tried in order)."
              }
            },
            "required": ["source", "mirrors"],
            "additionalProperties": true
          },
          "description": "Registry mirrors for disconnected installations.",
          "x-doc-url": "https://docs.openshift.com/container-platform/4.20/installing/disconnected_install/installing-mirroring-disconnected.html"
        },
        "platform": {
          "title": "Platform",
          "anyOf": [
            {
              "type": "string",
              "enum": ["baremetal", "nutanix", "vsphere", "none"],
              "description": "Supported infrastructure platform."
            },
            {
              "type": "string",
              "pattern": "^[a-z]+$",
              "description": "Other platform identifier."
            }
          ],
          "description": "Target infrastructure platform for the cluster.",
          "x-doc-url": "https://docs.openshift.com/container-platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-requirements-user-infra_installing-bare-metal"
        },
        "arch": {
          "title": "Architecture",
          "type": "string",
          "enum": ["x86_64", "aarch64", "ppc64le", "s390x"],
          "default": "x86_64",
          "description": "CPU architecture.",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#supported-platforms-for-openshift-clusters_installing-bare-metal"
        }
      },
      "required": ["name", "version"],
      "additionalProperties": true,
      "description": "Cluster-level configuration for installation.",
      "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html"
    },
    "network": {
      "title": "Network",
      "type": "object",
      "required": ["domain"],
      "properties": {
        "domain": {
          "title": "Base Domain",
          "$ref": "#/$defs/fqdn",
          "description": "Base DNS domain (e.g., example.com). Cannot be changed after installation.",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-dns-user-infra_installing-bare-metal"
        },
        "trustBundle": {
          "title": "Trust Bundle",
          "type": "string",
          "minLength": 1,
          "description": "Path to PEM-encoded CA certificate bundle for cluster-wide TLS trust.",
          "x-is-file": true,
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/configuring-a-custom-pki.html"
        },
        "proxy": {
          "title": "Proxy",
          "type": "object",
          "properties": {
            "httpProxy": {
              "title": "HTTP Proxy",
              "$ref": "#/$defs/proxyUrl",
              "description": "HTTP proxy URL (http://host:port).",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-configure-proxy_installing-bare-metal"
            },
            "httpsProxy": {
              "title": "HTTPS Proxy",
              "$ref": "#/$defs/proxyUrl",
              "description": "HTTPS proxy URL (http://host:port or https://host:port).",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-configure-proxy_installing-bare-metal"
            },
            "noProxy": {
              "title": "No Proxy",
              "type": "string",
              "pattern": "^[a-zA-Z0-9.*,/-]+$",
              "description": "Comma-separated hosts/CIDRs that bypass the proxy.",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-configure-proxy_installing-bare-metal"
            }
          },
          "additionalProperties": true,
          "description": "Proxy settings for cluster egress traffic.",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-configure-proxy_installing-bare-metal"
        },
        "ntpservers": {
          "title": "NTP Servers",
          "type": "array",
          "items": {
            "anyOf": [
              { "$ref": "#/$defs/ipAddress" },
              { "$ref": "#/$defs/fqdn" }
            ]
          },
          "description": "NTP servers for time synchronization (IP or FQDN).",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/install_config/installing-customizing.html#installation-special-config-chrony_installing-customizing"
        },
        "nameservers": {
          "title": "DNS Servers",
          "type": "array",
          "items": { "$ref": "#/$defs/ipAddress" },
          "minItems": 1,
          "maxItems": 3,
          "description": "DNS server IPs (1-3 recommended).",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-dns-user-infra_installing-bare-metal"
        },
        "dnsResolver": {
          "title": "DNS Resolver",
          "type": "object",
          "properties": {
            "search": {
              "title": "Search Domains",
              "type": "array",
              "items": { "$ref": "#/$defs/fqdn" },
              "maxItems": 6,
              "description": "DNS search domains (max 6).",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-dns-user-infra_installing-bare-metal"
            }
          },
          "additionalProperties": true,
          "description": "DNS resolver configuration.",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-dns-user-infra_installing-bare-metal"
        },
        "primary": {
          "title": "Primary Network",
          "type": "object",
          "properties": {
            "bond": {
              "title": "Bond Mode",
              "oneOf": [
                { "$ref": "#/$defs/bondMode" },
                { "type": "boolean", "const": false }
              ],
              "description": "Linux bonding mode. Use false to disable bonding.",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
            },
            "vlan": {
              "title": "VLAN ID",
              "oneOf": [
                { "$ref": "#/$defs/vlanId" },
                { "type": "boolean", "const": false }
              ],
              "description": "VLAN tag (1-4094). Use false for untagged.",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
            },
            "mtu": {
              "title": "MTU",
              "type": "integer",
              "minimum": 576,
              "maximum": 9216,
              "default": 1500,
              "description": "Interface MTU in bytes (576-9216).",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/changing-cluster-network-mtu.html"
            },
            "gateway": {
              "title": "Gateway",
              "$ref": "#/$defs/ipAddress",
              "description": "Default gateway IP address.",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
            },
            "subnet": {
              "title": "Subnet",
              "$ref": "#/$defs/cidr",
              "description": "Network CIDR (e.g., 192.168.0.0/24).",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
            },
            "vips": {
              "title": "Virtual IPs",
              "type": "object",
              "properties": {
                "api": {
                  "title": "API VIP",
                  "oneOf": [
                    { "$ref": "#/$defs/ipAddress" },
                    {
                      "type": "array",
                      "items": { "$ref": "#/$defs/ipAddress" },
                      "minItems": 1,
                      "maxItems": 2
                    }
                  ],
                  "description": "Kubernetes API virtual IP (single or dual-stack array).",
                  "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-bare-metal-config-yaml_installing-bare-metal"
                },
                "apps": {
                  "title": "Ingress VIP",
                  "oneOf": [
                    { "$ref": "#/$defs/ipAddress" },
                    {
                      "type": "array",
                      "items": { "$ref": "#/$defs/ipAddress" },
                      "minItems": 1,
                      "maxItems": 2
                    }
                  ],
                  "description": "Application ingress virtual IP (single or dual-stack array).",
                  "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-bare-metal-config-yaml_installing-bare-metal"
                }
              },
              "required": ["api", "apps"],
              "additionalProperties": true,
              "description": "Virtual IPs for API and ingress endpoints.",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-bare-metal-config-yaml_installing-bare-metal"
            }
          },
          "additionalProperties": true,
          "description": "Primary network settings for cluster communication.",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
        },
        "cluster": {
          "title": "Cluster Network",
          "type": "object",
          "properties": {
            "subnet": {
              "title": "Pod Network CIDR",
              "$ref": "#/$defs/cidr",
              "description": "IP range for pod networking (e.g., 10.128.0.0/14).",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-bare-metal-config-yaml_installing-bare-metal"
            },
            "hostPrefix": {
              "title": "Host Prefix",
              "type": "integer",
              "minimum": 8,
              "maximum": 128,
              "default": 23,
              "description": "Subnet prefix per node (23=/512 pods, 24=/256 pods).",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-bare-metal-config-yaml_installing-bare-metal"
            }
          },
          "additionalProperties": true,
          "description": "Pod network CIDR and per-node allocation.",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/cluster-network-operator.html"
        },
        "service": {
          "title": "Service Network",
          "type": "object",
          "properties": {
            "subnet": {
              "title": "Service CIDR",
              "$ref": "#/$defs/cidr",
              "description": "IP range for Kubernetes Services (e.g., 172.30.0.0/16).",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-bare-metal-config-yaml_installing-bare-metal"
            }
          },
          "additionalProperties": true,
          "description": "Service network CIDR for ClusterIP allocation.",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/cluster-network-operator.html"
        },
        "secondary": {
          "title": "Secondary Networks",
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "title": "Network Name",
                "type": "string",
                "minLength": 1,
                "maxLength": 63,
                "pattern": "^[a-z0-9]([a-z0-9-]*[a-z0-9])?$",
                "description": "Logical name (e.g., storage, oob).",
                "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/multiple_networks/understanding-multiple-networks.html"
              },
              "type": {
                "title": "Network Type",
                "type": "string",
                "enum": ["linux-bridge", "bond", "vlan", "ethernet", "ovs-bridge"],
                "description": "NMState interface type.",
                "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
              },
              "state": {
                "title": "State",
                "type": "string",
                "enum": ["up", "down", "absent"],
                "default": "up",
                "description": "Desired operational state."
              },
              "namespace": {
                "title": "Namespace",
                "$ref": "#/$defs/dnsLabel",
                "description": "Network namespace."
              },
              "vlan": {
                "title": "VLAN ID",
                "oneOf": [
                  { "$ref": "#/$defs/vlanId" },
                  { "type": "boolean", "const": false }
                ],
                "description": "VLAN tag (1-4094). Use false for untagged.",
                "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
              },
              "ports": {
                "title": "Ports",
                "type": "array",
                "items": { "$ref": "#/$defs/interfaceName" },
                "minItems": 1,
                "description": "Physical interfaces (e.g., eth1, eth2)."
              },
              "subnet": {
                "title": "Subnet",
                "anyOf": [
                  { "$ref": "#/$defs/cidr" },
                  { "type": "string", "const": "dhcp" }
                ],
                "description": "Network CIDR or 'dhcp' for dynamic.",
                "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
              },
              "gateway": {
                "title": "Gateway",
                "$ref": "#/$defs/ipAddress",
                "description": "Gateway IP for this network."
              },
              "bond": {
                "title": "Bond Mode",
                "oneOf": [
                  { "$ref": "#/$defs/bondMode" },
                  { "type": "boolean", "const": false }
                ],
                "description": "Linux bonding mode. Use false to disable.",
                "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
              },
              "mtu": {
                "title": "MTU",
                "type": "integer",
                "minimum": 576,
                "maximum": 9216,
                "description": "Interface MTU in bytes.",
                "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/changing-cluster-network-mtu.html"
              }
            },
            "required": ["name"],
            "additionalProperties": true
          },
          "description": "Additional networks (storage, OOB, provisioning).",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/multiple_networks/understanding-multiple-networks.html"
        }
      },
      "additionalProperties": true,
      "description": "Network configuration for cluster and node networking.",
      "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-network-user-infra_installing-bare-metal"
    },
    "hosts": {
      "title": "Hosts",
      "type": "object",
      "properties": {},
      "patternProperties": {
        "^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$": {
          "type": "object",
          "properties": {
            "role": {
              "title": "Role",
              "type": "string",
              "description": "Node role: master/control (control-plane), worker, or bootstrap.",
              "enum": ["master", "control", "worker", "bootstrap"],
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal/installing-bare-metal.html#installation-requirements-user-infra_installing-bare-metal"
            },
            "storage": {
              "title": "Storage",
              "type": "object",
              "description": "Disk hints for OS installation.",
              "properties": {
                "os": {
                  "title": "OS Disk",
                  "anyOf": [
                    {
                      "type": "object",
                      "description": "Root device hints for OS disk selection.",
                      "properties": {
                        "deviceName": {
                          "title": "Device Path",
                          "$ref": "#/$defs/devicePath",
                          "description": "Device path (e.g., /dev/sda)."
                        },
                        "byId": {
                          "title": "By-ID",
                          "type": "string",
                          "minLength": 1,
                          "description": "Stable /dev/disk/by-id identifier."
                        },
                        "wwn": {
                          "title": "WWN",
                          "type": "string",
                          "minLength": 1,
                          "description": "World Wide Name identifier.",
                          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html#root-device-hints_ipi-install-installation-workflow"
                        },
                        "serialNumber": {
                          "title": "Serial Number",
                          "type": "string",
                          "minLength": 1,
                          "description": "Disk serial number."
                        },
                        "hctl": {
                          "title": "HCTL",
                          "type": "string",
                          "pattern": "^[0-9]+:[0-9]+:[0-9]+:[0-9]+$",
                          "description": "SCSI address (H:C:T:L format)."
                        },
                        "model": {
                          "title": "Model",
                          "type": "string",
                          "minLength": 1,
                          "description": "Disk model string."
                        },
                        "vendor": {
                          "title": "Vendor",
                          "type": "string",
                          "minLength": 1,
                          "description": "Disk vendor string."
                        },
                        "rotational": {
                          "title": "Rotational",
                          "type": "boolean",
                          "description": "True for HDD, false for SSD."
                        },
                        "minSizeGigabytes": {
                          "title": "Minimum Size (GB)",
                          "type": "integer",
                          "minimum": 1,
                          "maximum": 65536,
                          "description": "Minimum disk size in GiB."
                        },
                        "paths": {
                          "title": "Candidate Paths",
                          "type": "array",
                          "items": { "$ref": "#/$defs/devicePath" },
                          "minItems": 1,
                          "description": "List of candidate device paths."
                        }
                      },
                      "additionalProperties": false
                    },
                    {
                      "type": "string",
                      "minLength": 1,
                      "description": "Simple device path or by-id string."
                    }
                  ],
                  "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html#root-device-hints_ipi-install-installation-workflow"
                }
              },
              "additionalProperties": true,
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html#root-device-hints_ipi-install-installation-workflow"
            },
            "bmc": {
              "title": "BMC",
              "type": "object",
              "properties": {
                "vendor": {
                  "title": "Vendor",
                  "type": "string",
                  "enum": ["dell", "hp", "hpe", "supermicro", "lenovo", "cisco", "fujitsu", "other"],
                  "description": "BMC vendor."
                },
                "version": {
                  "title": "Version",
                  "anyOf": [
                    { "type": "integer", "minimum": 0 },
                    { "type": "string", "pattern": "^[0-9.]+$" }
                  ],
                  "description": "BMC/iDRAC/iLO firmware version."
                },
                "username": {
                  "title": "Username",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 64,
                  "description": "BMC login username."
                },
                "password": {
                  "title": "Password",
                  "type": "string",
                  "minLength": 1,
                  "description": "Path to file containing BMC password.",
                  "x-is-file": true
                },
                "address": {
                  "title": "Address",
                  "anyOf": [
                    {
                      "type": "string",
                      "pattern": "^(idrac-virtualmedia|redfish-virtualmedia|redfish|ipmi|ilo5-virtualmedia)://.+$",
                      "description": "BMC URI with protocol."
                    },
                    { "$ref": "#/$defs/ipAddress" },
                    { "$ref": "#/$defs/fqdn" }
                  ],
                  "description": "BMC endpoint (IP, FQDN, or protocol://host).",
                  "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html#bmc-addressing_ipi-install-installation-workflow"
                },
                "macAddress": {
                  "title": "MAC Address",
                  "$ref": "#/$defs/macAddress",
                  "description": "BMC management interface MAC."
                },
                "disableCertificateVerification": {
                  "title": "Disable TLS Verification",
                  "type": "boolean",
                  "default": false,
                  "description": "Skip BMC TLS certificate validation."
                }
              },
              "additionalProperties": true,
              "description": "Baseboard Management Controller settings.",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html#bmc-addressing_ipi-install-installation-workflow"
            },
            "network": {
              "title": "Network",
              "type": "object",
              "properties": {
                "interfaces": {
                  "title": "Interfaces",
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "title": "Name",
                        "$ref": "#/$defs/interfaceName",
                        "description": "Interface name (e.g., eth0, ens3)."
                      },
                      "macAddress": {
                        "title": "MAC Address",
                        "$ref": "#/$defs/macAddress",
                        "description": "Interface MAC address."
                      }
                    },
                    "required": ["name", "macAddress"],
                    "additionalProperties": true
                  },
                  "minItems": 1,
                  "description": "Physical network interfaces on the host.",
                  "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
                },
                "primary": {
                  "title": "Primary",
                  "type": "object",
                  "properties": {
                    "address": {
                      "title": "IP Address",
                      "$ref": "#/$defs/ipAddress",
                      "description": "Host IP on the primary network."
                    },
                    "ports": {
                      "title": "Ports",
                      "type": "array",
                      "items": { "$ref": "#/$defs/interfaceName" },
                      "minItems": 1,
                      "description": "Interface names for primary network."
                    }
                  },
                  "required": ["address"],
                  "additionalProperties": true,
                  "description": "Primary network assignment for this host."
                }
              },
              "additionalProperties": true,
              "description": "Host-specific network configuration.",
              "x-doc-url": "https://docs.openshift.com/container_platform/4.20/networking/k8s_nmstate/k8s-nmstate-about-the-k8s-nmstate-operator.html"
            }
          },
          "required": ["role"],
          "additionalProperties": true,
          "description": "Host configuration keyed by hostname."
        }
      },
      "additionalProperties": false,
      "minProperties": 1,
      "propertyNames": {
        "$ref": "#/$defs/fqdn",
        "description": "Hostname or FQDN."
      },
      "description": "Host inventory keyed by hostname (minimum 1 host required).",
      "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_bare_metal_ipi/ipi-install-installation-workflow.html"
    },
    "plugins": {
      "title": "Plugins",
      "type": "object",
      "properties": {
        "nutanix": {
          "title": "Nutanix",
          "type": "object",
          "properties": {
            "prismCentral": {
              "title": "Prism Central",
              "type": "object",
              "properties": {
                "endpoint": {
                  "title": "Endpoint",
                  "anyOf": [
                    { "$ref": "#/$defs/ipAddress" },
                    { "$ref": "#/$defs/fqdn" }
                  ],
                  "description": "Prism Central hostname or IP."
                },
                "port": {
                  "title": "Port",
                  "type": "integer",
                  "minimum": 1,
                  "maximum": 65535,
                  "default": 9440,
                  "description": "Prism Central API port."
                },
                "username": {
                  "title": "Username",
                  "type": "string",
                  "minLength": 1,
                  "description": "Prism Central username."
                },
                "password": {
                  "title": "Password",
                  "type": "string",
                  "minLength": 1,
                  "description": "Path to Prism Central password file.",
                  "x-is-file": true
                }
              },
              "description": "Prism Central connection settings."
            },
            "subnetUUID": {
              "title": "Subnet UUID",
              "type": "string",
              "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
              "description": "Nutanix subnet UUID for VMs."
            }
          },
          "additionalProperties": true,
          "description": "Nutanix platform integration settings.",
          "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/installing_nutanix/installing-nutanix-installer-provisioned.html"
        }
      },
      "additionalProperties": true,
      "description": "Platform-specific plugin configurations.",
      "x-doc-url": "https://docs.openshift.com/container_platform/4.20/installing/index.html"
    }
  },
  "additionalProperties": false,
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "required": ["account", "cluster", "network", "hosts"]
}
